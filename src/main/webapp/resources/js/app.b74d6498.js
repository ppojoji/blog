(function(t){function e(e){for(var a,i,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);p&&p(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},n=[];function i(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"7ff47613"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(t){var e=[],s=o[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,a){s=o[t]=[e,a]}));e.push(s[2]=a);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=i(t);var c=new Error;n=function(e){l.onerror=l.onload=null,clearTimeout(u);var s=o[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,s[1](c)}o[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var p=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"04b9":function(t,e,s){},"0524":function(t,e,s){},"0579":function(t,e,s){"use strict";s("8a64")},"0b52":function(t,e,s){"use strict";s("7662")},"0b61":function(t,e,s){},"0c38":function(t,e,s){"use strict";s("b047")},"194f":function(t,e,s){},"1ddd":function(t,e,s){},2871:function(t,e,s){},"2f1c":function(t,e,s){},3283:function(t,e,s){"use strict";s("8892")},"414e":function(t,e,s){t.exports=s.p+"img/empty.3156efdb.jpg"},"42a3":function(t,e,s){},"42b1":function(t,e,s){},"4bac":function(t,e,s){},"4c28":function(t,e,s){"use strict";s("d550")},"4e00":function(t,e,s){t.exports=s.p+"img/singo.8a77e30b.jpeg"},"4fc1":function(t,e,s){"use strict";s("42a3")},"538e":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Nav"),s("router-view"),s("Toast"),t.$store.state.user.appReady?t._e():s("Splash")],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"blog-header"}},[s("h3",[t._v("개인 블로그")]),s("div",{staticClass:"menu"},[s("router-link",{staticClass:"menu-item",attrs:{to:"/"}},[t._v("HOME")]),t.$store.state.user.loginUser?t._e():s("router-link",{staticClass:"menu-item",attrs:{to:"/join"}},[t._v("JOIN")]),t.$store.state.user.loginUser?s("a",{staticClass:"menu-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[t._v("LOGOUT")]):s("router-link",{staticClass:"menu-item",attrs:{to:"/login"}},[t._v("LOGIN")]),t.user?s("router-link",{staticClass:"menu-item",attrs:{to:"/me"}},[t._v(t._s(t.user.email))]):t._e(),t.user&&"Y"===t.user.admin?s("router-link",{staticClass:"menu-item",attrs:{to:"/admin"}},[t._v("관리자 페이지")]):t._e(),s("router-link",{staticClass:"menu-item",attrs:{to:"/tags"}},[t._v("태그")])],1)])},r=[],l=s("bc3a"),c=s.n(l);c.a.defaults.baseURL="http://158.247.207.99:8080",c.a.interceptors.request.use(t=>(t.withCredentials=!0,t));const u={all:()=>c.a.get("/api/cates"),insertCate:t=>{const e=new FormData;return e.append("cate",t),c.a.post("api/cate",e)},updateCate:(t,e,s)=>c.a.put("api/cate/"+t,{prop:e,value:s}),deleteCate:t=>c.a.delete("api/cate/"+t),changeOrder:(t,e)=>c.a.put(`api/cate/order/${t}/${e}`)},p={login:(t,e)=>{console.log("여기로 로그인 api 호출 코드 가져옴",t,e)},myInfo:()=>c.a.get("/api/myinfo"),logout:()=>c.a.get("/logout"),join:t=>{const e=new FormData;return e.append("id",t.id),e.append("email",t.email),e.append("pwd",t.pwd),e.append("pwhint",t.pwhint),e.append("pwhintans",t.pwhintans),c.a.post("/user/join",e)},checkProp:(t,e)=>c.a.get("/user/join/checked",{params:{prop:t,value:e}}),hint:t=>{const e=new FormData;return e.append("email",t.email),e.append("hint",t.pwhint),e.append("hintAns",t.pwAns),c.a.post("/api/user/hint",e)}},d={bookMark:t=>c.a.post("/user/bookmark/"+t),removeBookMark:t=>c.a.delete("/user/bookmark/"+t),loadBookMark:()=>c.a.get("/api/bookmarks")},h={all:()=>c.a.get("/api/posts"),allForAdmin:()=>c.a.get("/api/admin/posts"),findByCate:t=>(console.log("카테고리 이름",t),c.a.get("/api/posts/cate/"+t)),detail:t=>(console.log("여기서 날림!"),c.a.get("/api/readPosts/"+t)),remove:t=>{const e=new FormData;return e.append("pid",t),console.log("글 삭제",t),c.a.post("/article/api/delete",e)},write:(t,e,s,a,o)=>{const n=new FormData;n.append("title",t),n.append("contents",e),n.append("cate",a);const i=o.map(t=>t.seq);return n.append("tag",i),s.forEach(t=>{n.append("files",t)}),c.a.post("/article/api/write",n,{headers:{"Content-Type":"multipart/formdata"}})},update:(t,e,s,a,o)=>{console.log("수정!");const n=o.map(t=>t.seq),i=new FormData;return i.append("title",e),i.append("contents",s),i.append("cateSeq",a),i.append("tag",n),c.a.post("/article/api/update/"+t,i,{headers:{"Content-Type":"multipart/formdata"}})},overviews:()=>c.a.get("/api/post/overviews"),updateProp:(t,e,s)=>c.a.put("/api/post/"+t,{prop:e,value:s}),findByTag:t=>c.a.get("/api/post/tag/"+t),tagInsert:t=>c.a.get("/api/tagSelect/"+t),userPostBan:(t,e)=>c.a.post(`/api/post/${t}/ban/${e}`)},m={ban:(t,e)=>c.a.post(`/article/reply/${t}/ban/${e}`),replyInsert:(t,e)=>{const s=new FormData;return s.append("parent",t),s.append("contents",e),c.a.post("/article/replyPost",s,{headers:{"Content-Type":"multipart/formdata"}})},selectReply:t=>c.a.get("/article/replies/"+t),removeReply:t=>c.a.delete("/article/reply/"+t)},v={posts:()=>c.a.get("/api/postBytag")},g={post:{list:t=>{const e=t.join(",");return c.a.get("/admin/api/posts/"+e)},delY:()=>c.a.get("/admin/api/posts/del"),delete:t=>c.a.delete("/admin/api/delete/"+t),policy:(t,e)=>c.a.post(`/admin/api/post/${t}/policy/${e}`),clearBan:t=>c.a.post(`/admin/api/post/${t}/policy/null`),banHistory:t=>c.a.get(`/admin/api/post/${t}/ban`)},cate:{},user:{},ban:{loadBanPostList:()=>c.a.get("/admin/api/ban/post"),loadBanReplyList:()=>c.a.get("/admin/api/ban/reply"),loadBanList:t=>c.a.get("/admin/api/ban/"+t),insertDecision:(t,e)=>c.a.post(`admin/api/ban/${t}/${e}`),loadBadUsers:()=>c.a.get("admin/api/ban/badUser"),loadDetail:t=>c.a.get("admin/api/ban/detail/"+t),banDuration:(t,e)=>c.a.post(`admin/api/ban/user/${t}/days/${e}`)}};var f={cate:u,user:p,post:h,reply:m,admin:g,tag:v,bookMark:d},y={computed:{user(){return this.$store.state.user.loginUser}},methods:{logout(){f.user.logout(),this.$store.state.user.loginUser=null,this.$router.push({path:"/"})}}},b=y,_=(s("6cc8"),s("2877")),C=Object(_["a"])(b,i,r,!1,null,null,null),k=C.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toast-wrapper"},[s("transition-group",{attrs:{name:"toast"}},t._l(t.$store.state.toast.messages,(function(e){return s("div",{key:e.seq,staticClass:"message",class:e.type},[s("span",{staticClass:"text"},[t._v(t._s(e.text))]),s("span",{staticClass:"close-icon material-icons-outlined",on:{click:function(s){return t.deleteMessage(e)}}},[t._v(" close ")])])})),0)],1)},w=[],T={computed:{},mounted(){const t=this.$store.state.toast.messages;console.log("[토스트 메세지] ",t)},methods:{deleteMessage(t){this.$store.commit("deleteMessage",t)}}},A=T,x=(s("4fc1"),Object(_["a"])(A,P,w,!1,null,null,null)),E=x.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"splash"})},M=[],D={},S=D,N=(s("0b52"),Object(_["a"])(S,V,M,!1,null,"6291e461",null)),O=N.exports,B={components:{Nav:k,Toast:E,Splash:O}},q=B,I=(s("5c0b"),Object(_["a"])(q,o,n,!1,null,null,null)),U=I.exports,j=s("8c4f"),L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"post-control"},[s("Cate",{staticClass:"fill-width",attrs:{initValue:t.cateName},on:{cateSelect:t.selectCate}}),s("button",{staticClass:"btn",class:{enabled:t.timer,disabled:!t.timer},on:{click:function(){t.timer?t.stopInterval():t.startInterval()}}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" "+t._s(t.timer?"restore":"sync_disabled"))])])],1),"PH"===t.boardType?s("PhotoPost",{attrs:{postList:t.lists}},[s("div",{staticClass:"controls",attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"btn btn-primary",on:{click:t.postWrite}},[t._v("글쓰기")])])]):s("ListPost",{attrs:{lists:t.lists}},[s("div",{staticClass:"controls",attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"btn btn-primary",on:{click:t.postWrite}},[t._v("글쓰기22")])])])],1)},R=[],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.summary.visible?a("div",{ref:"summaryEl",staticClass:"summary",style:{top:t.summary.y+"px",left:t.summary.x+"px"},domProps:{innerHTML:t._s(t.summary.content)}}):t._e(),a("table",{staticClass:"table"},[t._m(0),a("tbody",{staticClass:"blog-list-body"},[0===t.lists.length?a("tr",[t._m(1)]):t._l(t.lists,(function(e){return a("tr",{key:e.seq,on:{click:function(s){return t.viewPost(e.seq)}}},[a("td",[e.bookmarked?a("span",{staticClass:"material-icons-outlined"},[t._v("star")]):t._e()]),a("td",[t.isRecentPost(e)?a("img",{staticClass:"iconNew",attrs:{src:s("9526")}}):t._e(),a("span",{staticClass:"title",on:{mouseenter:function(s){return t.showSummary(e)},mousemove:t.moveSummary,mouseleave:t.hideSummary}},[t._v(t._s(e.title)+" ")]),a("TagView",{attrs:{tags:e.tags,inline:!0,size:"sm"}}),e.upfileCount>0?a("img",{staticClass:"file",attrs:{src:s("71db")}}):t._e()],1),a("td",[t._v(t._s(e.category?e.category.name:""))]),a("td",[t._v(t._s(e.viewCount))]),a("td",[a("span",{on:{mouseenter:function(s){return t.showInfo(e)},mousemove:t.moveSummary,mouseleave:t.hideSummary}},[t._v(t._s(e.writer.id))])]),a("td",[a("span",{on:{mouseenter:function(s){return t.showTimeStamp(e.creationDate)},mousemove:t.moveSummary,mouseleave:t.hideSummary}},[t._v(" "+t._s(t.diff(e.creationDate,t.currentTime))+" ")])]),a("td",[a("span",{on:{mouseenter:function(s){return t.showTimeStamp(e.lastDate)},mousemove:t.moveSummary,mouseleave:t.hideSummary}},[t._v(" "+t._s(t.diff(e.lastDate,t.currentTime))+" ")])])])}))],2)]),t._t("footer")],2)},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("td"),s("td",[t._v("제목")]),s("td",[t._v("카테코리")]),s("td",[t._v("조회수")]),s("td",[t._v("작성자")]),s("td",[t._v("작성일")]),s("td",[t._v("수정시간")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[s("div",{staticClass:"logo"},[s("span",{staticClass:"icon material-icons-outlined"},[t._v(" report_problem ")])]),s("p",[t._v("글이 없습니다.")])])}];const F=t=>{let e=t.getMonth()+1,s=t.getDate(),a=t.getHours(),o=t.getMinutes(),n=t.getSeconds();return e=e>=10?e:"0"+e,s=s>=10?s:"0"+s,a=a>=10?a:"0"+a,o=o>=10?o:"0"+o,n=n>=10?n:"0"+n,`${t.getFullYear()}-${e}-${s} ${a}:${o}:${n}`},G=(t,e)=>{var s=e-t,a=parseInt(s/1e3),o=parseInt(a/60);if(0===o)return a+"초전";var n=parseInt(o/60);if(0===n)return o+"분전";var i=parseInt(n/24);if(0===i)return n+"시간전";var r=parseInt(i/30);return 0===r?i+"일전":r+"달전"};var Z={formatDate:F,timeDiff:G},H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tags",class:{inline:t.inline,sm:"sm"===t.size,lg:"lg"===t.size}},t._l(t.tags,(function(e){return s("span",{key:e.seq,staticClass:"tag",on:{click:function(s){return t.tagSelected(e)}}},[t._v(t._s(e.tagName)+" "),t.editable?s("span",{staticClass:"close material-icons-outlined",on:{click:function(s){return t.tagClosed(e)}}},[t._v("close")]):t._e()])})),0)},W=[],J={props:["tags","editable","inline","size"],methods:{tagClosed(t){this.$emit("tagclose",t)},tagSelected(t){this.$emit("tagSelected",t)}}},K=J,Q=(s("a6f1"),Object(_["a"])(K,H,W,!1,null,"7e7fa130",null)),X=Q.exports,tt={components:{TagView:X},props:["lists"],data(){return{limit:0,summary:{visible:!1,x:0,y:0,content:""},currentTime:(new Date).getTime(),timer:null,cateSeq:0,cateName:null}},mounted(){},methods:{diff(t,e){return Z.timeDiff(t,e)},isRecentPost(t){return(new Date).getTime()-t.creationDate<this.limit},viewPost(t){this.$router.push({path:"/article/"+t})},showSummary(t){this.summary.visible=!0,this.summary.content=t.contents},moveSummary(t){this.summary.x=t.clientX+20,this.summary.y=t.clientY},hideSummary(){this.summary.visible=!1},showInfo(t){this.summary.visible=!0,this.summary.content=t.writer.email},showTimeStamp(t){this.summary.visible=!0,this.summary.content=this.timeStampToDate(new Date(t))},timeStampToDate(t){return Z.formatDate(t)},selectCate(t){let e;console.log("1111111"),e=""===t?f.post.all:f.post.findByCate,e(t).then(t=>{this.lists=t.data.posts})}}},et=tt,st=(s("8c16"),Object(_["a"])(et,z,Y,!1,null,"31b85112",null)),at=st.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"photo-wrapper container-fluid"},[s("div",{staticClass:"row"},t._l(t.postList,(function(t){return s("div",{key:t.seq,staticClass:"col-12 col-sm-12 col-md-6 col-lg-3 col-xl-2"},[s("PhotoView",{attrs:{post:t}})],1)})),0),t._t("footer")],2)},nt=[],it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"photo"},[s("div",[s("img",{attrs:{src:t.getImage()}})]),s("div",{staticClass:"desc"},[s("span",[t._v(t._s(t.timeStampToDate(new Date(t.post.creationDate))))]),s("h4",{on:{click:function(e){return t.viewPost(t.post.seq)}}},[t._v(t._s(t.post.title))])])])},rt=[],lt={props:["post"],methods:{timeStampToDate(t){return Z.formatDate(t)},viewPost(t){this.$router.push({path:"/article/"+t})},getImage(){return this.post.upFiles.length>0?"http://158.247.207.99:8080/upfile/"+this.post.upFiles[0].genName:s("414e")}}},ct=lt,ut=(s("6ab7"),Object(_["a"])(ct,it,rt,!1,null,"7b66bea5",null)),pt=ut.exports,dt={components:{PhotoView:pt},props:["postList"]},ht=dt,mt=Object(_["a"])(ht,ot,nt,!1,null,null,null),vt=mt.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cate"},[s("select",{staticClass:"custom-select",attrs:{id:"cata"},on:{change:t.cateSelected}},[s("option",{attrs:{value:""}},[t._v("[전체보기]")]),t._l(t.cates,(function(e){return s("option",{key:e.seq,domProps:{value:e.seq,selected:e.name===t.initValue}},[t._v(" "+t._s(e.name)+" ")])}))],2),t.popupVisible?s("Popup",{on:{closePopup:t.closePopup,addCate:t.addCate}}):t._e(),t.modalVisible?s("Alert",{attrs:{mode:"warning",alertMessage:t.alertMessage,headText:t.headText},on:{btnClose:t.btnClose}}):t._e()],1)},ft=[],yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-wrapper"},[s("div",{staticClass:"dimmer",on:{click:t.closePopup}}),s("div",{staticClass:"popup-body"},[s("h3",[t._v("카테고리 추가")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.cateName,expression:"cateName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cateName},on:{input:function(e){e.target.composing||(t.cateName=e.target.value)}}}),s("button",{staticClass:"btn btn-primary",on:{click:t.addCate}},[t._v("추가")]),s("button",{staticClass:"btn btn-danger",on:{click:t.closePopup}},[t._v("닫기")])])])])},bt=[],_t={data(){return{cateName:""}},methods:{closePopup(){this.$emit("closePopup")},addCate(){this.$emit("addCate",this.cateName),this.closePopup()}}},Ct=_t,kt=(s("0c38"),Object(_["a"])(Ct,yt,bt,!1,null,null,null)),Pt=kt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert-wrapper alert",class:t.alertClass()},[s("h4",{staticClass:"alert-heading"},[t._v(t._s(t.headText))]),s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.btnClose.apply(null,arguments)}}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" close ")])]),s("p",[t._v(" "+t._s(t.alertMessage)+" ")])])},Tt=[],At={props:["mode","headText","alertMessage"],data(){return{}},methods:{btnClose(){this.$emit("btnClose")},alertClass(){const t=this.mode||"success";return"alert-"+t}}},xt=At,Et=(s("cc38"),Object(_["a"])(xt,wt,Tt,!1,null,"40a39869",null)),Vt=Et.exports,Mt=s("2f62");const Dt={appReady:!1,loginUser:null,name:"good"},St={},Nt={tryLogin(t,e){console.log(e,t)}},Ot={setUser(t,e){t.loginUser=e,console.log("완료",e)}};var $t={state:Dt,getters:St,actions:Nt,mutations:Ot};let Bt=0;const qt=()=>Bt++,It={messages:[]},Ut={},jt={},Lt={addMessage(t,e){e.seq=qt(),t.messages.push(e),e.duration>0&&(e.timeout=setTimeout(()=>{this.commit("deleteMessage",e)},e.duration))},deleteMessage(t,e){console.log("[mutation] delete",e);const s=t.messages.findIndex(t=>t.seq===e.seq);console.log(s),t.messages.splice(s,1),clearTimeout(e.timeout)}};var Rt={state:It,getters:Ut,actions:jt,mutations:Lt};a["a"].use(Mt["a"]);const zt=new Mt["a"].Store({modules:{user:$t,toast:Rt}});f.user.myInfo().then(t=>{console.log("[로그인 확인] ",t),t.data.success&&(zt.commit("setUser",t.data.user),console.log("[ready]",zt.state.user.appReady)),zt.state.user.appReady=!0});var Yt=zt;const Ft=(t,e,s)=>{console.log("[info]",e,s),Yt.commit("addMessage",{text:e,type:""+t,duration:s||3e3})},Gt=(t,e)=>{Ft("success",t,e)},Zt=(t,e)=>{Ft("info",t,e)},Ht=(t,e)=>{Ft("warning",t,e)},Wt=(t,e)=>{Ft("error",t,e)};var Jt={success:Gt,info:Zt,warning:Ht,error:Wt},Kt={props:["initValue"],components:{Popup:Pt,Alert:Vt},data(){return{cates:[],popupVisible:!1,modalVisible:!1,headText:null,alertMessage:null}},mounted(){console.log(f),f.cate.all().then(t=>{this.cates=t.data.cates})},methods:{cateSelected(t){this.$emit("cateSelect",t.target.value)},popup(){this.popupVisible=!0},closePopup(){this.popupVisible=!1},autoClosePopup(){setTimeout(()=>{this.modalVisible=!1},3e3),console.log("팝업 자동 닫힘")},addCate(t){console.log(t),f.cate.insertCate(t).then(t=>{console.log("[카테]",t),console.log("[카테11]",t.data.cate.name),f.cate.all().then(t=>{this.cates=t.data.cates})}).catch(t=>{console.log("여기로 옴"),console.log(t);const e="등록된 카테고리는 재등록 할수 없습니다.";Jt.error(e,-1)})},btnClose(){this.modalVisible=!1}}},Qt=Kt,Xt=(s("a50f"),Object(_["a"])(Qt,gt,ft,!1,null,"0f903e1e",null)),te=Xt.exports,ee={components:{ListPost:at,PhotoPost:vt,Cate:te},data(){return{cates:[],lists:[],limit:0,boardType:null,timer:null,cateName:null}},beforeDestroy(){this.stopInterval()},mounted(){this.cateName=this.$route.params.catename,console.log("[현재카테고리]",this.cateName),this.cateName?this.selectCate(this.cateName):f.post.all().then(t=>{this.cates=t.data.cata,this.lists=t.data.posts,this.limit=t.data.limit,console.log("[OK?]",t)})},methods:{startInterval(){this.timer=window.setInterval(()=>{this.currentTime=(new Date).getTime()},1e3)},stopInterval(){clearInterval(this.timer),this.timer=null},selectCate(t){let e;console.log("1111111"),e=""===t?f.post.all:f.post.findByCate,e(t).then(t=>{this.lists=t.data.posts,this.lists.forEach(t=>{t.picUrl=null}),console.log(this.lists),this.boardType=0===this.lists.length?"NM":this.lists[0].category.type})},postWrite(){this.$router.push("/write")}}},se=ee,ae=(s("5ed4"),Object(_["a"])(se,L,R,!1,null,"683e8ecd",null)),oe=ae.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.user?s("div",{staticClass:"success"},[t._v("로그인 성공 ("+t._s(t.user.email)+")")]):s("LoginForm",{on:{loginSuccess:t.login}})],1)},ie=[],re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-12"},[t.error?s("div",{staticClass:"alert alert-danger mt-3",attrs:{id:"error"}},[t._v(" 여기에 오류 메세지 나옴 ")]):t._e(),s("form",{attrs:{id:"loginForm"}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"id"}},[t._v("아이디")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"text",id:"id"},domProps:{value:t.id},on:{input:[function(e){e.target.composing||(t.id=e.target.value)},function(e){t.error=!1}]}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"pwd"}},[t._v("비밀번호")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],staticClass:"form-control",attrs:{type:"password",id:"pwd"},domProps:{value:t.pwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:[function(e){e.target.composing||(t.pwd=e.target.value)},function(e){t.error=!1}]}})]),t._m(1),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.login}},[t._v(" 로그인 ")]),s("a",{staticClass:"btn btn-primary btn-find-pass",attrs:{href:"#"},on:{click:t.ShowOpenPwd}},[t._v("비번 찾기")])]),t.PwdPopVisable?s("PopupSlot",{on:{closePopup:function(e){return t.closePopup()}}},[t.hintErr?s("div",{staticClass:"error"},[t._v(t._s(t.hintErr))]):t._e(),t.hintData?s("div",{staticClass:"hint-data"},[s("ul",[s("li",[t._v("id : "+t._s(t.hintData.id))]),s("li",[t._v("password: "+t._s(t.hintData.pwd))])])]):s("Find",{on:{hint:t.hint}}),s("button",{on:{click:function(e){return t.closePopup()}}},[t._v("닫기")])],1):t._e()],1)])])},le=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 naver-login-bar"},[s("a",{attrs:{href:"#",id:"login-link"}},[s("img",{attrs:{src:"https://static.nid.naver.com/oauth/big_g.PNG?version=js-2.0.0",height:"60"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",[s("input",{attrs:{type:"checkbox",id:"useCookie"}}),t._v(" 로그인 유지 ")])])}],ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-wrapper"},[s("div",{staticClass:"dimmer",on:{click:t.closePopup}}),s("div",{staticClass:"popup-body"},[t._t("default")],2)])},ue=[],pe={data(){return{cateName:""}},methods:{closePopup(){this.$emit("closePopup")}}},de=pe,he=(s("b7ef"),Object(_["a"])(de,ce,ue,!1,null,null,null)),me=he.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{attrs:{id:"loginForm"}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("이메일 찾기")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hint.email,expression:"hint.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.hint.email},on:{input:function(e){e.target.composing||t.$set(t.hint,"email",e.target.value)}}})]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.hint.pwhint,expression:"hint.pwhint"}],staticClass:"sel",attrs:{size:"1"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.hint,"pwhint",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("선택하세요")]),t._l(t.pwhintLists,(function(e){return s("option",{key:e.value},[t._v(" "+t._s(e.text)+" ")])}))],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"hint"}},[t._v("힌트")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hint.pwhintans,expression:"hint.pwhintans"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.hint.pwhintans},on:{input:function(e){e.target.composing||t.$set(t.hint,"pwhintans",e.target.value)}}})])]),s("button",{on:{click:function(e){return t.sendHint(e)}}},[t._v("비번찾기")])])},ge=[],fe={data(){return{pwhintLists:[{value:1,text:"졸업한 초등학교 이름은?"},{value:2,text:"아버지 성함은?"},{value:3,text:"어머니 성함은?"},{value:4,text:"어릴 적 내 별명은?"},{value:5,text:"좋아하는 색깔은?"}],hint:{email:null,pwhint:"",pwhintans:null}}},methods:{sendHint(){this.$emit("hint",{email:this.hint.email,pwhint:this.hint.pwhint,pwAns:this.hint.pwhintans})}}},ye=fe,be=Object(_["a"])(ye,ve,ge,!1,null,"4a2a0b7c",null),_e=be.exports,Ce={components:{PopupSlot:me,Find:_e},data(){return{error:!1,id:"",pwd:"",PwdPopVisable:!1,hintErr:null,hintData:null}},methods:{login(){let t=this.id,e=this.pwd;const s=new URLSearchParams;s.append("id",t),s.append("pwd",e),s.append("useCookie","false"),c.a.post("http://158.247.207.99:8080/api/login",s,{withCredentials:!0}).then(t=>{console.log(t),!0===t.data.success?(console.log(t.data.user),this.$emit("loginSuccess",t.data.user),Jt.success("안녕하세요",3e3)):(Jt.error("로그인 실패",-1),this.error=!0)}).catch(t=>{console.log(t)})},ShowOpenPwd(){this.PwdPopVisable=!0},closePopup(){this.PwdPopVisable=null},hint(t){console.log("[HINT]",t),f.user.hint(t).then(t=>{console.log(t),this.hintData={id:t.data.id,pwd:t.data.pwd}}).catch(t=>{console.log(t),this.hintErr=t.response.data.cause})}}},ke=Ce,Pe=(s("c6cb"),Object(_["a"])(ke,re,le,!1,null,"95bcde54",null)),we=Pe.exports,Te={methods:{login(t){this.$store.state.user.loginUser=t,console.log("[로그인] ",t,this.$route);const e=this.$route.query.redirect||"/";this.$router.replace({path:e})}},computed:{user(){return this.$store.state.user.loginUser}},watch:{user(t,e){console.log("[바꼈다]",t,e);const s=this.$route.query.redirect||"/";this.$router.push({path:s})}},components:{LoginForm:we}},Ae=Te,xe=Object(_["a"])(Ae,ne,ie,!1,null,null,null),Ee=xe.exports,Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu-wrapper"},[t.appReady&&!t.user?s("LoginForm",{on:{loginSuccess:t.login}}):t._e(),t.user?s("div",{staticClass:"menu"},[s("div",{staticClass:"menu-item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeMenu("post")}}},[t._v("내글 관리")])]),s("div",{staticClass:"menu-item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeMenu("bookmark")}}},[t._v("북마크 관리")])])]):t._e(),t.user?s("div",{staticClass:"main-area"},["post"===t.menuType?s("PostConfig"):"bookmark"===t.menuType?s("BookMarkConfig"):s("div",[t._v("없는 메뉴")])],1):t._e()],1)},Me=[],De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("내글 편집 화면")]),t.editPost?s("RadioPopup",{attrs:{initValue:t.initValue,models:t.targetModel},on:{closePopup:function(e){t.editPost=null},updateUseYn:t.updateUseYn}}):t._e(),t.catePost?s("CateListPopup",{attrs:{cateSelect:t.catePost.category},on:{cateClosePopup:t.closePopup,postCateClick:t.postCateSelect}}):t._e(),s("table",{staticClass:"table"},[t._m(0),t._l(t.lists,(function(e){return s("tr",{key:e.seq},[s("td",[t._v(" "+t._s(e.title)+" ")]),s("td",[s("a",{on:{click:function(s){return t.EditPost(e)}}},[e.open?s("span",{staticClass:"open material-icons-outlined"},[t._v(" remove_red_eye ")]):s("span",{staticClass:"hidden material-icons-outlined"},[t._v(" visibility_off ")])])]),s("td",[s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.deletePost(e)}}},[t._v("삭제")])]),s("td",[e.category&&e.category.name?s("a",{attrs:{href:"#"},on:{click:function(s){return t.catePopup(e)}}},[t._v(t._s(e.category.name))]):s("a",{attrs:{href:"#",value:"0"},on:{click:function(s){return t.catePopup(e)}}},[t._v("없음")])])])}))],2)],1)},Se=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("제목")]),s("th",[t._v("상태")]),s("th",[t._v("삭제")]),s("th",[t._v("이동")])])}],Ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-wrapper"},[s("div",{staticClass:"dimmer",on:{click:t.closePopup}}),s("div",{staticClass:"popup-body"},[s("h3",[t._v("라디오 팝업 변경")]),s("div",t._l(t.models,(function(e){return s("label",{key:e.value},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"radio"},domProps:{value:e.value,checked:t._q(t.selected,e.value)},on:{change:function(s){t.selected=e.value}}}),t._v(" "+t._s(e.text)+" ")])})),0),s("div",[s("button",{staticClass:"btn btn-primary",on:{click:t.updateCate}},[t._v("변경")]),s("button",{staticClass:"btn btn-danger",on:{click:t.closePopup}},[t._v("닫기")])])])])},Oe=[],$e={props:["initValue","models"],data(){return{cateName:"",selected:null}},mounted(){this.selected=this.initValue},methods:{closePopup(){this.$emit("closePopup")},updateCate(){this.$emit("updateUseYn",this.selected)}}},Be=$e,qe=(s("3283"),Object(_["a"])(Be,Ne,Oe,!1,null,null,null)),Ie=qe.exports,Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-wrapper"},[s("div",{staticClass:"dimmer",on:{click:t.closePopup}}),s("div",{staticClass:"popup-body"},[s("h3",[t._v("카테고리 목록")]),s("ul",{staticClass:"cate-list list-group"},t._l(t.cates,(function(e){return s("li",{key:e.seq,staticClass:"cate list-group-item"},[t.cateSelect&&t.cateSelect.seq===e.seq?s("span",{staticClass:"check material-icons-outlined"},[t._v(" check ")]):s("span",{staticClass:"empty"}),s("a",{attrs:{href:"#"},on:{click:function(s){return t.catePostClick(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0),s("div",[s("button",{staticClass:"btn btn-danger",on:{click:t.closePopup}},[t._v("닫기")])])])])},je=[],Le={props:["cateSelect"],data(){return{cates:null}},mounted(){console.log(this.cateSelect),this.cateList()},methods:{closePopup(){this.$emit("cateClosePopup")},cateList(){f.cate.all().then(t=>{console.log(t),this.cates=t.data.cates})},catePostClick(t){this.$emit("postCateClick",t)}}},Re=Le,ze=(s("6fae"),Object(_["a"])(Re,Ue,je,!1,null,"27897705",null)),Ye=ze.exports,Fe={components:{RadioPopup:Ie,CateListPopup:Ye},data(){return{lists:null,editPost:null,initValue:null,targetProp:null,targetModel:null,cates:null,catePost:null,cateSeq:0}},mounted(){f.post.allForAdmin().then(t=>{console.log(t),this.lists=t.data.posts}),this.cateList()},methods:{EditPost(t){this.editPost=t,this.initValue=t.open?"Y":"N",this.targetModel=[{text:"공개글",value:"Y"},{text:"비공개글",value:"N"}]},updateUseYn(t){console.log("선택된 값",t),f.post.updateProp(this.editPost.seq,"open",t).then(e=>{console.log("[res]",e),this.editPost.open="Y"===t,this.editPost=t,this.editPost=null})},deletePost(t){f.post.remove(t.seq).then(()=>{const e=this.lists.findIndex(e=>e.seq===t.seq);this.lists.splice(e,1)})},cateList(){f.cate.all().then(t=>{console.log(t),this.cates=t.data.cates})},closePopup(){this.catePost=null},catePopup(t){this.catePost=t},postCateSelect(t){console.log("[CATEGORY]",t),f.post.updateProp(this.catePost.seq,"category",t.seq).then(e=>{console.log(e),e.data.success&&(this.catePost.category=t),this.catePost=null,Jt.success("카테고리 변경완료",3e3)})}}},Ge=Fe,Ze=(s("8a53"),Object(_["a"])(Ge,De,Se,!1,null,"1b568964",null)),He=Ze.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("북마크 편집 화면")]),t.popupVisible?s("PopupSlot",{on:{closePopup:function(e){return t.popupClose()}}},[s("PostDetail",{attrs:{postSeq:t.postSeq,hideControl:!0}})],1):t._e(),s("table",{staticClass:"table"},[t._m(0),t._l(t.bookmarks,(function(e){return s("tr",{key:e.seq},[s("td",{on:{click:function(s){return t.MyPost(e.seq)}}},[t._v(" "+t._s(e.title)+" ")]),e.bookmarked?s("td",[s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.removeBookMark(e)}}},[t._v(" 삭제 ")])]):s("td",[s("button",{staticClass:"btn btn-primary",on:{click:function(s){return t.addBookMark(e)}}},[t._v(" 등록 ")])]),s("td",[t._v(t._s(t.Diff(e.lastDate,t.currentTime)))])])}))],2)],1)},Je=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("제목")]),s("th",[t._v("삭제")]),s("th",[t._v("수정일")])])}],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.readMode?a("div",[t.post?a("div",{staticClass:"post-detail"},[a("div",{staticClass:"title"},[a("h3",[t._v(t._s(t.post.title))]),t.bookMarked?a("span",{staticClass:"btn-bookmark material-icons-outlined",on:{click:function(e){return t.bookMark(t.post)}}},[t._v(" star ")]):a("span",{staticClass:"btn-bookmark material-icons-outlined",on:{click:function(e){return t.bookMark(t.post)}}},[t._v(" star_outline ")]),a("img",{staticClass:"singo",attrs:{src:s("4e00")},on:{click:function(e){return t.showBanPopup(t.post)}}})]),a("div",{staticClass:"writer"},[a("span",[t._v(t._s(t.post.writer.id))]),a("span",{staticClass:"date"},[t._v(t._s(t.post.creationDate))])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.post.contents)}}),a("TagView",{attrs:{tags:t.post.tags},on:{tagSelected:t.tagList}}),t.activeTag?a("PostOfTag",{attrs:{tag:t.activeTag,currentPost:t.post},on:{activePost:t.postClicked}}):t._e(),t.popupVisible?a("PopupSlot",{on:{closePopup:function(e){return t.popupClose()}}},[a("BanCode",{on:{bancode:t.policyClick}})],1):t._e(),a("UpfileList",{attrs:{files:t.upfiles,keyProp:"seq",nameProp:"originalName",sizeProp:"fileSize",isImageFile:function(t){return t.contentType.startsWith("image")},getImagePath:function(e){return t.process.env.VUE_APP_BACKEND_HOST+"/upfile/"+e.genName},editMode:!1,emptyMessage:"첨부파일이 없습니다."}}),a("ReplyView",{attrs:{post:t.post}}),t.hideControl?t._e():a("div",{staticClass:"control"},[a("button",{on:{click:t.buttonMain}},[t._v("목록")]),t.isMyPost()?[a("button",{on:{click:function(e){return t.updatePost()}}},[t._v("수정")]),a("button",{on:{click:function(e){return t.deletePost()}}},[t._v("삭제")])]:t._e()],2)],1):a("Loading",{attrs:{msg:t.message}})],1):a("div",[a("EditForm",{attrs:{post:t.post,editMode:!0},on:{back:t.back,update:t.updated}})],1)},Qe=[],Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[t._v(t._s(t.msg))])},ts=[],es={props:["msg"]},ss=es,as=Object(_["a"])(ss,Xe,ts,!1,null,null,null),os=as.exports,ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"blog-container"}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-elem",attrs:{id:"title",type:"text",placeholder:"글제목"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}}),s("Cate",{attrs:{initValue:t.cateSeq},on:{cateSelect:t.cateSelect}})],1),t._m(0),s("div",{staticClass:"taglist"},[s("input",{attrs:{type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.tagInsert(e)}}}),s("TagView",{attrs:{tags:t.delTags,editable:!0},on:{tagclose:t.tagClose}})],1),s("div",{staticClass:"upfile-view"},[s("input",{attrs:{type:"file",name:"files",id:"file",accept:".txt, .gif, .jpg, .png"},on:{change:t.attacheFile}}),s("UpfileList",{attrs:{files:t.upfiles,keyProp:"name",nameProp:"name",sizeProp:"size",isImageFile:function(t){return t.type.startsWith("image")},getImagePath:function(t){return t.src},editMode:!0,emptyMessage:"파일 첨부 선택가능"},on:{fileDelete:t.fileDelete}})],1),s("div",[s("button",{on:{click:t.update}},[t._v(" "+t._s(t.editMode?"수정하기":"글작성")+" ")]),s("button",{on:{click:t.cancel}},[t._v("취소")])])])},is=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("textarea",{staticClass:"form-elem",attrs:{id:"content"}})])}],rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.files.length>0?s("div",{staticClass:"upfile-info"},[s("span",{staticClass:"cnt"},[t._v(t._s(t.files.length)+"개")]),s("span",{staticClass:"total-size"},[t._v(t._s(t.totalSize)+" bytes")])]):t._e(),t.files.length>0?s("div",{staticClass:"upfile-list"},t._l(t.files,(function(e){return s("div",{key:e[t.keyProp],staticClass:"file"},[t.isImageFile(e)?s("div",{staticClass:"thumnail",style:"background-image: url('"+t.getImagePath(e)+"')"}):s("div",{staticClass:"thumnail file"},[s("span",[t._v("TXT")])]),s("span",{staticClass:"fname"},[t._v(t._s(e[t.nameProp]))]),s("span",{staticClass:"fsize"},[t._v(t._s(e[t.sizeProp])+" BYTES")]),t.editMode?s("button",{staticClass:"btn-close",on:{click:function(s){return t.fileDelete(e)}}},[t._v(" X ")]):t._e()])})),0):s("div",{staticClass:"upfile-list"},[t._v(t._s(t.emptyMessage))])])},ls=[],cs={props:["files","keyProp","nameProp","sizeProp","editMode","emptyMessage","isImageFile","getImagePath"],data(){return{}},methods:{fileDelete(t){console.log("file"+t),this.$emit("fileDelete",t)}},computed:{totalSize(){let t=0;return this.files.forEach(e=>{t+=e[this.sizeProp]}),t}},mounted(){console.log("[UPFILES]",this.files)}},us=cs,ps=(s("b151"),Object(_["a"])(us,rs,ls,!1,null,"1dab8242",null)),ds=ps.exports,hs={components:{UpfileList:ds,Cate:te,TagView:X},props:["post","editMode","category"],data(){return{summernoteJs:null,upfiles:[],cates:[],cateSeq:0,delTags:[]}},methods:{cancel(){console.log("취소 버튼 클릭"),this.$emit("back"),this.summernoteJs.remove()},update(){const t=$("#content").summernote("code");this.$emit("update",{title:this.post.title,contents:t,upfiles:this.upfiles,cate:this.cateSeq,tags:this.delTags})},attacheFile(t){console.log(t.target.files);const e=t.target.files[0],s=new FileReader;s.addEventListener("load",()=>{const t=s.result;e.src=t,this.upfiles.push(e)}),s.readAsDataURL(e),t.target.value=""},fileDelete(t){console.log("[지울 파일] ",t);const e=this.upfiles.findIndex(e=>e===t);this.upfiles.splice(e,1)},tagClose(t){console.log("닫기",t);const e=this.delTags.findIndex(e=>e===t);this.delTags.splice(e,1)},tagInsert(t){console.log("[여기]",t),f.post.tagInsert(t.target.value).then(e=>{console.log(e),this.delTags.push(e.data.tag),t.target.value=""})},cateSelect(t){console.log("[CATEGORY]",t),this.cateSeq=t}},mounted(){var t=document.createElement("script");this.summernoteJs=t,this.delTags=this.post.tags,t.type="text/javascript",t.src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js",t.onload=()=>{$("#content").summernote({toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["insert",["imgur","picture"]]],dialogsFade:!0});var t=this.post.contents;$("#content").summernote("code",t)},document.head.appendChild(t),f.post.all().then(t=>{this.cates=t.data.cata}),1==this.editMode&&(this.cateSeq=this.post.category?this.post.category.seq:0)}},ms=hs,vs=Object(_["a"])(ms,ns,is,!1,null,null,null),gs=vs.exports,fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"posts"},[t.tag?s("h3",[t._v(t._s(t.tag.tagName))]):t._e(),t._l(t.posts,(function(e){return s("div",{key:e.seq,staticClass:"post",on:{click:function(s){return t.postClicked(e)}}},[t.currentPost&&e.seq===t.currentPost.seq?s("span",{staticClass:"material-icons-outlined"},[t._v(" check ")]):s("span",{staticClass:"material-icons-outlined"},[t._v("_")]),e.category?s("span",{staticClass:"cate"},[t._v("["+t._s(e.category.name)+"]")]):s("span",{staticClass:"cate"},[t._v("[전체]")]),s("span",[t._v(t._s(e.title))])])})),t.posts&&0===t.posts.length?s("div",[t._v("관련 글이 없습니다.")]):t._e()],2)},ys=[],bs={props:["tag","currentPost"],data(){return{posts:null}},mounted(){this.loadPost()},methods:{postClicked(t){this.$emit("activePost",t)},loadPost(){f.post.findByTag(this.tag.seq).then(t=>{console.log(t),this.posts=t.data})}},watch:{tag(){this.loadPost()}}},_s=bs,Cs=(s("71b6"),Object(_["a"])(_s,fs,ys,!1,null,"925eaa6e",null)),ks=Cs.exports,Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reply-view"},[a("div",{staticClass:"input-area"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contents,expression:"contents"}],staticClass:"form-control",domProps:{value:t.contents},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reply(e)},input:function(e){e.target.composing||(t.contents=e.target.value)}}}),a("button",{staticClass:"btn-submit btn btn-primary",on:{click:t.reply}},[t._v("답글")])]),a("ul",{staticClass:"reply-list"},t._l(t.replyList,(function(e){return a("li",{key:e.seq,staticClass:"reply",class:{mine:t.isMyReply(e)}},[t._l(t.splitContent(e.content),(function(e,s){return a("p",{key:s},[t._v(" "+t._s(e)+" ")])})),t._v(" ("+t._s(e.writer.id)+") "),t.isMyReply(e)?a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(s){return t.removeReply(e)}}},[t._v(" 삭제 ")]):t._e(),a("img",{staticClass:"singo",attrs:{src:s("4e00")},on:{click:function(s){return t.showBanPopup(e)}}})],2)})),0),t.popupVisible?a("PopupSlot",{on:{closePopup:function(e){return t.popupClose()}}},[a("BanCode",{on:{bancode:t.policyClick}})],1):t._e()],1)},ws=[],Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ban-list"},[s("ul",{staticClass:"policy"},t._l(t.policy,(function(e){return s("li",{key:e.code,on:{click:function(s){return t.policyClicked(e)}}},[t._v(" "+t._s(e.text)+" ")])})),0)])},As=[],xs={data(){return{policy:[{code:"AD",text:"광고성 글"},{code:"PN",text:"음란매체"},{code:"AB",text:"명예훼손,비방"},{code:"GM",text:"도박"},{code:"ET",text:"기타"},{code:null,text:"해제됨"}]}},methods:{policyClicked(t){this.$emit("bancode",t)}}},Es=xs,Vs=(s("88c2"),Object(_["a"])(Es,Ts,As,!1,null,"d54d15e2",null)),Ms=Vs.exports,Ds={components:{PopupSlot:me,BanCode:Ms},props:["post"],data(){return{contents:"",replyList:null,popupVisible:!1}},mounted(){this.selectReply(),console.log(this.user)},methods:{reply(t){console.log(t.target.value),t.shiftKey||(t.preventDefault(),f.reply.replyInsert(this.post.seq,this.contents).then(t=>{console.log(t),this.replyList.unshift(t.data.reply),this.contents=""}).catch(t=>{console.log(t),Jt.error("로그인 후에 답글 작성 가능합니다.",5e3)}))},splitContent(t){return t.split("\r\n")},selectReply(){f.reply.selectReply(this.post.seq).then(t=>{console.log(t),this.replyList=t.data})},isMyReply(t){return this.user&&this.user.id===t.writer.id},removeReply(t){f.reply.removeReply(t.seq).then(e=>{console.log(e);const s=this.replyList.findIndex(e=>e===t);this.replyList.splice(s,1),Jt.success("삭제 완료",3e3)}).catch(t=>{console.log(t),Jt.error(t.response.data.cause,6e3)})},showBanPopup(t){this.currentReply=t,this.popupVisible=!0},popupClose(){this.popupVisible=!1},policyClick(t){console.log("클릭됨",t.code),f.reply.ban(this.currentReply.seq,t.code).then(t=>{console.log(t),Jt.success("신고 완료",3e3)}),this.currentReply=null,this.popupVisible=!1}},computed:{user(){return this.$store.state.user.loginUser}}},Ss=Ds,Ns=(s("4c28"),Object(_["a"])(Ss,Ps,ws,!1,null,"22be4cae",null)),Os=Ns.exports;const $s={NOT_OWNER_OF_POST:"글의 소유자가 아닙니다.",NOT_LOGIN:"로그인 해주세요.",BOOKMARK_REMOVE:"북마크 해제 되었습니다.",BOOKMARK_INSERT:"북마크 등록 되었습니다."},Bs=t=>{let e=$s[t];e||(e="오류가 발생했습니다."),Jt.error($s[t],5e3)};var qs={props:["postSeq","hideControl"],components:{Loading:os,EditForm:gs,UpfileList:ds,TagView:X,PostOfTag:ks,ReplyView:Os,PopupSlot:me,BanCode:Ms},data(){return{post:null,upfiles:[],readMode:!0,message:"읽어오는 중",activeTag:null,bookMarked:!1,popupVisible:!1}},computed:{me(){return this.$store.state.user.loginUser}},methods:{isMyPost(){return this.me&&this.me.seq===this.post.writer.seq},loadPost(){let t;t=this.postSeq?this.postSeq:this.$route.params.post,f.post.detail(t).then(t=>{console.log(t),this.post=t.data.post,this.upfiles=t.data.post.upFiles,0===t.data.bookMark?this.bookMarked=!1:this.bookMarked=!0})},deletePost(){console.log("삭제삭제",this.$route.params.post),f.post.remove(this.$route.params.post).then(t=>{console.log(t),this.post=null,this.message="삭제 완료",setTimeout(()=>{this.$router.replace("/")},1e3)}).catch(t=>{Bs(t.response.data.cause)})},updatePost(){this.readMode=!1,f.cate.all().then(t=>{console.log("[카테고리 목록] ",t)})},buttonMain(){this.$router.push({path:"/posts/"+this.post.category.name})},back(){this.readMode=!0},popupClose(){this.popupVisible=!1},updated(t){this.readMode=!0;let e=this.post.seq,s=t.title,a=t.contents,o=t.cate,n=t.tags;console.log("[수정한태그]",n),f.post.update(e,s,a,o,n).then(t=>{console.log(t),this.loadPost()}).catch(t=>{Bs(t.response.data.cause)})},formatSize(t){let e=t.fileSize,s=null;return console.log(t),e<1024?s="B":e>=1024&&(e/=1024,e=e.toFixed(1),s="KB"),e+" "+s},tagList(t){console.log("tag",t),this.activeTag=t},postClicked(t){this.post.seq!==t.seq&&this.$router.push({path:"/article/"+t.seq})},bookMark(t){this.bookMarked?f.bookMark.removeBookMark(t.seq).then(t=>{console.log(t),Jt.success($s.BOOKMARK_REMOVE,3e3),this.bookMarked=!1}).catch(t=>{console.log(t),Jt.error($s.NOT_LOGIN,3e3)}):f.bookMark.bookMark(t.seq).then(t=>{console.log(t),this.bookMarked=!0,Jt.success($s.BOOKMARK_INSERT,3e3)}).catch(t=>{console.log(t),Jt.error($s.NOT_LOGIN,3e3)})},showBanPopup(t){this.currentPost=t,this.popupVisible=!0},policyClick(t){console.log("클릭됨",t.code),console.log("클릭됨",this.post.seq),f.post.userPostBan(this.post.seq,t.code).then(t=>{console.log(t)})}},watch:{"$route.params.post"(t,e){console.log("[router change]",e," > ",t),this.loadPost()}},mounted(){this.loadPost()}},Is=qs,Us=(s("0579"),Object(_["a"])(Is,Ke,Qe,!1,null,"2d7d54c2",null)),js=Us.exports,Ls={components:{PopupSlot:me,PostDetail:js},data(){return{bookmarks:null,currentTime:(new Date).getTime(),popupVisible:!1,postSeq:null}},mounted(){f.bookMark.loadBookMark().then(t=>{console.log(t),this.bookmarks=t.data})},methods:{removeBookMark(t){f.bookMark.removeBookMark(t.seq).then(e=>{console.log(e),t.bookmarked=!1})},addBookMark(t){f.bookMark.bookMark(t.seq).then(e=>{console.log(e),t.bookmarked=!0})},Diff(t,e){return Z.timeDiff(t,e)},MyPost(t){this.postSeq=t,this.popupVisible=!0},popupClose(){this.popupVisible=!1}}},Rs=Ls,zs=Object(_["a"])(Rs,We,Je,!1,null,null,null),Ys=zs.exports,Fs={components:{PostConfig:He,BookMarkConfig:Ys,LoginForm:we},data(){return{menuType:"post"}},methods:{changeMenu(t){this.menuType=t},login(t){this.$store.state.user.loginUser=t}},computed:{appReady(){return this.$store.state.user.appReady},user(){return this.$store.state.user.loginUser}}},Gs=Fs,Zs=(s("6fe1"),Object(_["a"])(Gs,Ve,Me,!1,null,"110b02f0",null)),Hs=Zs.exports,Ws=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[t._v("메인 화면")]),s("div",{staticClass:"cate-list container-fluid"},[s("div",{staticClass:"row"},t._l(t.overviews,(function(e){return s("div",{key:e.cate.seq,staticClass:"col-box col-12 col-sm-6 col-md-4 col-lg-3"},[s("div",{staticClass:"cate-box"},[s("h4",{staticClass:"title"},[s("router-link",{attrs:{to:"/posts/"+e.cate.name}},[t._v(t._s(e.cate.name)+" ")])],1),e.posts.length>0?t._l(e.posts,(function(e){return s("div",{key:e.seq,staticClass:"post-list"},[s("div",{staticClass:"post"},[s("router-link",{attrs:{to:"/article/"+e.seq}},[s("span",{staticClass:"title"},[t._v(t._s(e.title))])])],1)])})):s("div",[t._v("글이 없습니다.")])],2)])})),0)])])},Js=[],Ks={data(){return{overviews:[]}},mounted(){f.post.overviews().then(t=>{console.log(t),t.data.success&&(this.overviews=t.data.overviews)})}},Qs=Ks,Xs=(s("67cf"),Object(_["a"])(Qs,Ws,Js,!1,null,"1fe1e749",null)),ta=Xs.exports,ea=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("글쓰기 화면입니다.")]),s("EditForm",{attrs:{editMode:!1,post:t.post},on:{update:t.update}})],1)},sa=[],aa={components:{EditForm:gs},data(){return{post:{seq:null,title:"",contents:"",category:null,tags:[]}}},methods:{write(){},update(t){console.log("[TITLE] ",t),t.upfiles.forEach(t=>{delete t.src}),f.post.write(t.title,t.contents,t.upfiles,t.cate,t.tags).then(t=>{t.data.success&&(console.log(t),alert("글이 작성되었습니다."),this.$router.replace("/"))})}}},oa=aa,na=Object(_["a"])(oa,ea,sa,!1,null,null,null),ia=na.exports,ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin-wrapper"},[t.user&&"Y"===t.user.admin?[s("div",{staticClass:"menu"},[s("div",{staticClass:"menu-item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeMenu("cate")}}},[t._v("카테고리 관리")])]),s("div",{staticClass:"menu-item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeMenu("post")}}},[t._v("글 관리")])]),s("div",{staticClass:"menu-item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeMenu("ban")}}},[t._v("신고내역")])]),s("div",{staticClass:"menu-item"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeMenu("badUser")}}},[t._v("불량유저")])])]),s("div",{staticClass:"viewer"},["cate"===t.menuType?s("CateConfig"):"post"===t.menuType?s("PostPage"):"ban"===t.menuType?s("BanReporter"):"badUser"===t.menuType?s("BadUser"):t._e()],1)]:s("div",{staticClass:"alert"},[t._v("관리자가 아닙니다.")])],2)},la=[],ca=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v("글관리")]),t.summary.visible?s("div",{ref:"summaryEl",staticClass:"summary",style:{top:t.summary.y+"px",left:t.summary.x+"px"},domProps:{innerHTML:t._s(t.summary.content)}}):t._e(),t.chkVisible?s("div",{staticClass:"search-ctrl"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],attrs:{type:"radio",name:"type",value:"all"},domProps:{checked:t._q(t.searchType,"all")},on:{change:function(e){t.searchType="all"}}}),t._v("전체글")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],attrs:{type:"radio",name:"type",value:"AD"},domProps:{checked:t._q(t.searchType,"AD")},on:{change:function(e){t.searchType="AD"}}}),t._v("광고글")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],attrs:{type:"radio",name:"type",value:"PN"},domProps:{checked:t._q(t.searchType,"PN")},on:{change:function(e){t.searchType="PN"}}}),t._v("음란성글")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],attrs:{type:"radio",name:"type",value:"AB"},domProps:{checked:t._q(t.searchType,"AB")},on:{change:function(e){t.searchType="AB"}}}),t._v("명예훼손/비방")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],attrs:{type:"radio",name:"type",value:"GM"},domProps:{checked:t._q(t.searchType,"GM")},on:{change:function(e){t.searchType="GM"}}}),t._v("도박")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],attrs:{type:"radio",name:"type",value:"ET"},domProps:{checked:t._q(t.searchType,"ET")},on:{change:function(e){t.searchType="ET"}}}),t._v("기타")]),s("button",{staticClass:"btn btnShow",on:{click:function(e){return t.chkShow(!1)}}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" keyboard_arrow_down ")])])]):s("div",{staticClass:"search-ctrl"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chkType,expression:"chkType"}],attrs:{type:"checkbox",name:"chk",value:"AD"},domProps:{checked:Array.isArray(t.chkType)?t._i(t.chkType,"AD")>-1:t.chkType},on:{change:function(e){var s=t.chkType,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n="AD",i=t._i(s,n);a.checked?i<0&&(t.chkType=s.concat([n])):i>-1&&(t.chkType=s.slice(0,i).concat(s.slice(i+1)))}else t.chkType=o}}}),t._v("광고글")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chkType,expression:"chkType"}],attrs:{type:"checkbox",name:"chk",value:"PN"},domProps:{checked:Array.isArray(t.chkType)?t._i(t.chkType,"PN")>-1:t.chkType},on:{change:function(e){var s=t.chkType,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n="PN",i=t._i(s,n);a.checked?i<0&&(t.chkType=s.concat([n])):i>-1&&(t.chkType=s.slice(0,i).concat(s.slice(i+1)))}else t.chkType=o}}}),t._v("음란성글")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chkType,expression:"chkType"}],attrs:{type:"checkbox",name:"chk",value:"AB"},domProps:{checked:Array.isArray(t.chkType)?t._i(t.chkType,"AB")>-1:t.chkType},on:{change:function(e){var s=t.chkType,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n="AB",i=t._i(s,n);a.checked?i<0&&(t.chkType=s.concat([n])):i>-1&&(t.chkType=s.slice(0,i).concat(s.slice(i+1)))}else t.chkType=o}}}),t._v("명예훼손/비방")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chkType,expression:"chkType"}],attrs:{type:"checkbox",name:"chk",value:"GM"},domProps:{checked:Array.isArray(t.chkType)?t._i(t.chkType,"GM")>-1:t.chkType},on:{change:function(e){var s=t.chkType,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n="GM",i=t._i(s,n);a.checked?i<0&&(t.chkType=s.concat([n])):i>-1&&(t.chkType=s.slice(0,i).concat(s.slice(i+1)))}else t.chkType=o}}}),t._v("도박")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chkType,expression:"chkType"}],attrs:{type:"checkbox",name:"chk",value:"ET"},domProps:{checked:Array.isArray(t.chkType)?t._i(t.chkType,"ET")>-1:t.chkType},on:{change:function(e){var s=t.chkType,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n="ET",i=t._i(s,n);a.checked?i<0&&(t.chkType=s.concat([n])):i>-1&&(t.chkType=s.slice(0,i).concat(s.slice(i+1)))}else t.chkType=o}}}),t._v("기타")]),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.search()}}},[t._v("조회")]),s("button",{staticClass:"btn btnShow"},[s("span",{staticClass:"material-icons-outlined",on:{click:function(e){return t.chkShow(!0)}}},[t._v(" keyboard_arrow_up ")])])]),t.popupVisible?s("PopupSlot",{on:{closePopup:function(e){return t.popupClose("popupVisible")}}},[s("PostPolicy",{attrs:{post:t.targetPost},on:{popupClose:function(e){return t.popupClose("popupVisible")}}})],1):t._e(),t.banPopupVisible?s("PopupSlot",{on:{closePopup:function(e){return t.popupClose("banPopupVisible")}}},[s("Ban",{attrs:{banList:t.banList,post:t.banPost}})],1):t._e(),t.delPosts||t.isError?t._e():s("LoadingPanel"),t.delPosts?s("table",{staticClass:"table"},[s("tbody",[t._m(0),t._l(t.delPosts,(function(e){return s("tr",{key:e.seq,class:{isSuccess:!e.ban,isBan:e.ban}},[s("td",{on:{click:function(s){return t.showBanHistory(e)}}},[t._v(" ("+t._s(e.seq)+")"+t._s(e.title)+" ")]),s("td",[s("span",{on:{mouseenter:function(s){return t.showTimeStamp(e.creationDate)},mousemove:t.moveSummary,mouseleave:t.hideSummary}},[t._v(" "+t._s(t.diff(e.creationDate,t.currentTime))+" ")])]),s("td",[s("button",{staticClass:"btn",class:{"btn-success":!e.ban,"btn-danger":e.ban},on:{click:function(s){return t.DelPost(e)}}},[t._v(" 삭제 ")])]),s("td",[s("button",{staticClass:"btn",class:{"btn-success":!e.ban,"btn-danger":e.ban},on:{click:function(s){return t.showPostView(e)}}},[t._v(" "+t._s(t.banText(e))+" ")])]),s("td",[e.ban?s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.clearBan(e)}}},[t._v(" 해제 ")]):t._e()]),s("td",[e.ban?s("div",[t._v(" "+t._s(t.timeStampToDate(new Date(e.recentBan.banTime)))+" ")]):t._e()])])}))],2)]):t._e(),t.isError?s("div",[s("h1",[t._v("관리자가 아닙니다.")])]):t._e()],1)},ua=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("제목")]),s("th",[t._v("날짜")]),s("th",[t._v("삭제")]),s("th",[t._v("공개")]),s("th",[t._v("차단 해제")]),s("th",[t._v("차단 시간")])])}],pa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("차단 사유")]),s("Ban",{attrs:{banList:t.banHistory,post:t.post}}),s("BanCode",{on:{bancode:function(e){return t.SetPolicy(e)}}})],1)},da=[],ha=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ban-history"},[s("div",{staticClass:"title"},[t._v(t._s(t.post.title))]),s("ul",{staticClass:"ban"},[0===t.banList.length?s("li",[t._v("금지 이력 없음")]):t._e(),t._l(t.banList,(function(e){return s("li",{key:e.seq},[s("span",{staticClass:"time"},[t._v(t._s(t.timeStampToDate(new Date(e.banTime))))]),s("span",{staticClass:"reason"},[t._v(t._s(t.banText(e.reason)))]),s("span",{staticClass:"admin"},[t._v("("+t._s(e.admin)+")")])])}))],2)])},ma=[],va={props:["post","banList"],data(){return{}},mounted(){console.log(Z.formatDate(new Date)),console.log(this.post,this.banList)},methods:{showTimeStamp(t){this.summary.visible=!0,this.summary.content=this.timeStampToDate(new Date(t))},timeStampToDate(t){return Z.formatDate(t)},banText(t){return null==t?"공개중":"AD"==t?"광고성글":"PN"==t?"음란성글":"AB"==t?"명예훼손,비방":"GM"==t?"도박":"ET"==t?"기타":void 0}}},ga=va,fa=(s("b8d9"),Object(_["a"])(ga,ha,ma,!1,null,null,null)),ya=fa.exports,ba={components:{Ban:ya,BanCode:Ms},props:["post"],data(){return{banHistory:[]}},mounted(){f.admin.post.banHistory(this.post.seq).then(t=>{console.log(t),this.banHistory=t.data.ban})},methods:{SetPolicy(t){console.log(t),f.admin.post.policy(this.post.seq,t.code).then(t=>{console.log(t),this.$emit("popupClose"),this.post.ban=t.data.ban,this.post.recentBan.banTime=t.data.banTime})}}},_a=ba,Ca=(s("9c86"),Object(_["a"])(_a,pa,da,!1,null,"4b74dc7e",null)),ka=Ca.exports,Pa=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},wa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("span",{staticClass:"material-icons-outlined loading-icon"},[t._v(" refresh ")])])}],Ta={},Aa=Ta,xa=(s("f341"),Object(_["a"])(Aa,Pa,wa,!1,null,null,null)),Ea=xa.exports;function Va(t,e){return Z.timeDiff(t,e)}var Ma={components:{PopupSlot:me,PostPolicy:ka,Ban:ya,LoadingPanel:Ea},data(){return{delPosts:null,currentTime:(new Date).getTime(),summary:{visible:!1,x:0,y:0,content:""},popupVisible:!1,banPopupVisible:!1,targetPost:null,banList:null,banPost:null,isError:!1,searchType:"all",chkType:["AD"],chkVisible:!1}},mounted(){this.loadPost(["all"])},methods:{loadPost(t){g.post.list(t).then(t=>{this.delPosts=t.data.posts}).catch(t=>{console.log(t),"NOT_ADMIN"==t.response.data.cause?this.isError=t.response.data.cause:this.isError="UNKNOWN_ERROR"})},DelPost(t){g.post.delete(t.seq).then(e=>{console.log(e);let s=this.delPosts.findIndex(e=>e.seq===t.seq);this.delPosts.splice(s,1)})},diff(t,e){return Va(t,e)},showTimeStamp(t){this.summary.visible=!0,this.summary.content=this.timeStampToDate(new Date(t))},timeStampToDate(t){return Z.formatDate(t)},moveSummary(t){this.summary.x=t.clientX+20,this.summary.y=t.clientY},hideSummary(){this.summary.visible=!1},showPostView(t){this.popupVisible=!0,this.targetPost=t},popupClose(t){this[t]=!1},banText(t){return null==t.ban?"공개중":"AD"==t.ban?"광고성글":"PN"==t.ban?"음란성글":"AB"==t.ban?"명예훼손,비방":"GM"==t.ban?"도박":"ET"==t.ban?"기타":void 0},clearBan(t){console.log(t),f.admin.post.clearBan(t.seq).then(e=>{console.log(e),1==e.data.success&&(t.ban=null)})},showBanHistory(t){g.post.banHistory(t.seq).then(e=>{this.banPost=t,console.log(e),this.banPopupVisible=!0,this.banList=e.data.ban})},chkShow(t){console.log("11111"),this.chkVisible=t,1==this.chkVisible?this.loadPost([this.searchType]):0==this.chkVisible&&this.loadPost(this.chkType)},toggleChk(){this.chkVisible=!this.chkVisible},search(){console.log(this.chkType),this.loadPost(this.chkType)}},watch:{searchType(t,e){console.log(e," -> ",t),this.loadPost([this.searchType])}}},Da=Ma,Sa=(s("b293"),Object(_["a"])(Da,ca,ua,!1,null,"1b574343",null)),Na=Sa.exports,Oa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("카테고리 편집 화면")]),s("select",{staticClass:"custom-select",attrs:{id:"cata"},on:{change:t.cateSelected}},[s("option",{attrs:{value:""}},[t._v("[전체보기]")]),t._l(t.cates,(function(e){return s("option",{key:e.seq,domProps:{value:e.name,selected:e.name===t.initValue}},[t._v(" "+t._s(e.name)+" ")])}))],2),s("button",{staticClass:"btn btn-primary",on:{click:t.popup}},[t._v("카테고리 추가")]),t.popupVisible?s("Popup",{on:{closePopup:t.closePopup,addCate:t.addCate}}):t._e(),t.editCate?s("RadioPopup",{attrs:{initValue:t.initModelValue,models:t.targetModel},on:{closePopup:t.useYnClosePopup,updateUseYn:t.updateUseYn,click:t.popup}}):t._e(),s("table",{staticClass:"table"},[t._m(0),t._l(t.cates,(function(e){return s("tr",{key:e.seq},[s("td",[e===t.activeCate?s("input",{ref:"input",refInFor:!0,attrs:{type:"text"},domProps:{value:e.name},on:{keyup:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.updateCateName(s,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.setActiveCate(null)}],keydown:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"tab",9,s.key,"Tab")||s.ctrlKey||s.shiftKey||s.altKey||s.metaKey?null:(s.preventDefault(),t.nextTab(e,1))},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"tab",9,s.key,"Tab")?null:s.shiftKey?(s.preventDefault(),t.nextTab(e,-1)):null}]}}):s("a",{attrs:{href:"#"},on:{click:function(s){return t.setActiveCate(e)}}},[t._v(t._s(e.name))])]),s("td",[s("a",{attrs:{href:"#"}},[t._v(t._s(e.post_cnt)+"개")])]),s("td",[s("a",{attrs:{href:"#"},on:{click:function(s){return t.useYnPopup(e)}}},[t._v(t._s(e.useYn))])]),s("td",[s("a",{attrs:{href:"#"},on:{click:function(s){return t.replyYnPopup(e)}}},[t._v(t._s(e.replyYN))])]),s("td",[s("a",{attrs:{href:"#"},on:{click:function(s){return t.boardTypePopup(e)}}},[t._v(t._s(e.type))])]),s("td",[s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteCate(e)}}},[t._v("삭제")])]),s("td",[s("button",{staticClass:"btn"},[s("span",{staticClass:"material-icons-outlined",on:{click:function(s){return t.changeOrder(e,1)}}},[t._v(" keyboard_arrow_down ")])]),s("button",{staticClass:"btn"},[s("span",{staticClass:"material-icons-outlined",on:{click:function(s){return t.changeOrder(e,-1)}}},[t._v(" keyboard_arrow_up ")])])])])}))],2)],1)},$a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("이름")]),s("th",[t._v("글갯수")]),s("th",[t._v("사용 여부")]),s("th",[t._v("답변 여부")]),s("th",[t._v("게시판 타입")]),s("th"),s("th",[t._v("순서")])])}];const Ba={DUP_CATE_NAME:"이미 존재하는 이름입니다",EMPTY_CATE_NAME:"카테고리 이름이 없습니다.",NOT_EMPTY_CATE:"카테고리에 글이 있습니다."};var qa={props:["initValue"],components:{Popup:Pt,RadioPopup:Ie},data(){return{no:"no",cates:null,activeCate:null,popupVisible:!1,editCate:null,targetProp:null,targetModel:null,initModelValue:null}},mounted(){f.cate.all().then(t=>{console.log("[모든 카테고리]",t),this.cates=t.data.cates})},methods:{changeOrder(t,e){console.log(e);const s=this.cates.findIndex(e=>e.seq===t.seq),a=s+e,o=this.cates[a];a!==this.cates.length?-1!==a?f.cate.changeOrder(t.seq,o.seq).then(t=>{console.log(t),this.cates.splice(a,1),this.cates.splice(s,0,o),Jt.success("성공",3e3)}):Jt.info("첫번째입니다",3e3):Jt.info("마지막입니다",3e3)},nextTab(t,e){console.log("[Tab]",e);const s=this.cates.findIndex(e=>e.seq===t.seq),a=(this.cates.length+s+e)%this.cates.length;this.setActiveCate(this.cates[a])},setActiveCate(t){console.log(t),this.activeCate=t,this.$nextTick(()=>{this.activeCate&&this.$refs.input[0].focus()})},updateCateName(t,e){console.log(t.target.value,e);const s=t.target.value.trim();0!==s.length?f.cate.updateCate(e.seq,"name",s).then(t=>{console.log(t),this.activeCate.name=t.data.cate.name,this.activeCate=null}).catch(t=>{console.log(t);const e=Ba[t.response.data.cause]||`요청이 실패했습니다(${t.response.data.cause})`;Jt.error(e,-1)}):Jt.error("공백은 입력하면 안됩니다.",3e3)},deleteCate(t){t.post_cnt>0?Jt.warning("글이 있습니다.",3e3):f.cate.deleteCate(t.seq).then(e=>{const s=this.cates.findIndex(e=>e.seq===t.seq);this.cates.splice(s,1),this.activeCate=null,console.log("삭제",e);const a="삭제에 성공 했습니다.";Jt.success(a,5e3)}).catch(t=>{console.log("[실패했다]",t);const e=Ba[t.response.data.cause]||`요청이 실패했습니다(${t.response.data.cause})`;Jt.error(e,5e3)})},popup(){this.popupVisible=!0},closePopup(){this.popupVisible=!1},useYnClosePopup(){this.editCate=null},useYnPopup(t){this.editCate=t,this.targetProp="useYn",this.initModelValue=t.useYn,this.targetModel=[{text:"사용",value:"Y"},{text:"사용안함",value:"N"}]},replyYnPopup(t){this.editCate=t,this.targetProp="replyYN",this.initModelValue=t.replyYN,this.targetModel=[{text:"사용",value:"Y"},{text:"사용안함",value:"N"}]},boardTypePopup(t){console.log(t),this.editCate=t,this.targetProp="type",this.initModelValue=t.type,this.targetModel=[{text:"일반",value:"NM"},{text:"방명록",value:"VB"},{text:"공지사항",value:"NC"},{text:"사진",value:"PH"}]},addCate(t){console.log(t),f.cate.insertCate(t).then(t=>{console.log("[카테]",t),console.log("[카테11]",t.data.cate.name),f.cate.all().then(t=>{this.cates=t.data.cates})}).catch(t=>{console.log("여기로 옴"),console.log(t);const e="등록된 카테고리는 재등록 할수 없습니다.";Jt.error(e,-1)})},cateSelected(t){this.$emit("cateSelect",t.target.value)},updateUseYn(t){console.log("선택된 값",t),f.cate.updateCate(this.editCate.seq,this.targetProp,t).then(e=>{console.log("[res]",e),this.editCate[this.targetProp]=t,this.useYnClosePopup()})},updateReplyYn(t){console.log("답글 여부",t)}}},Ia=qa,Ua=Object(_["a"])(Ia,Oa,$a,!1,null,"9ea7efb0",null),ja=Ua.exports,La=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("내글 편집 화면")]),s("div",{staticClass:"ban-cate"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.banType,expression:"banType"}],attrs:{type:"radio",value:"P"},domProps:{checked:t._q(t.banType,"P")},on:{change:function(e){t.banType="P"}}}),t._v("원글 ")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.banType,expression:"banType"}],attrs:{type:"radio",value:"R"},domProps:{checked:t._q(t.banType,"R")},on:{change:function(e){t.banType="R"}}}),t._v("답글 ")])]),s("BanList",{attrs:{banList:t.banList},on:{banclick:t.showBanControl}}),t.popupVisible?s("PopupSlot",{on:{closePopup:function(e){return t.closePopup()}}},[s("h3",[t._v(t._s(t.getContent(t.currentBan)))]),s("button",{on:{click:function(e){return t.insertDecision("approve")}}},[t._v("승인")]),s("button",{on:{click:function(e){return t.insertDecision("reject")}}},[t._v("거절")])]):t._e()],1)},Ra=[],za=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table"},[t._m(0),t._l(t.banList,(function(e){return s("tr",{key:e.seq,on:{click:function(s){return t.banClicked(e)}}},[s("td",[t._v(t._s(e.seq))]),s("td",[t._v(t._s(t.timeStampToDate(new Date(e.repotertime))))]),s("td",{staticClass:"ban-type"},[s("span",[t._v(" "+t._s(t.banText(e.bancode)))])]),s("td",[t._v(t._s(t.getContent(e)))]),s("td",[t._v(t._s(e.ID))])])}))],2)},Ya=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("번호")]),s("th",[t._v("신고시간")]),s("th",[t._v("신고분류")]),s("th",[t._v("내용")]),s("th",[t._v("신고자")])])}],Fa={props:["banList"],methods:{banText(t){return console.log("[### post]",t),"AD"==t?"광고성글":"PN"==t?"음란성글":"AB"==t?"명예훼손,비방":"GM"==t?"도박":"ET"==t?"기타":void 0},timeStampToDate(t){return Z.formatDate(t)},getContent(t){return"P"===this.banType?t.CONTENTS:t.CONTENT},banClicked(t){this.$emit("banclick",t)}}},Ga=Fa,Za=Object(_["a"])(Ga,za,Ya,!1,null,null,null),Ha=Za.exports,Wa={components:{PopupSlot:me,BanList:Ha},data(){return{banList:null,banType:"P",popupVisible:!1,currentBan:null}},watch:{banType(t){"P"==t?this.banPostRepoter():"R"==t&&this.banReplyRepoter()}},mounted(){this.banPostRepoter()},methods:{getContent(t){return"P"===this.banType?t.CONTENTS:t.CONTENT},banPostRepoter(){f.admin.ban.loadBanPostList().then(t=>{console.log(t),this.banList=t.data})},banReplyRepoter(){f.admin.ban.loadBanReplyList().then(t=>{console.log(t),this.banList=t.data})},banText(t){return console.log("[### post]",t),"AD"==t?"광고성글":"PN"==t?"음란성글":"AB"==t?"명예훼손,비방":"GM"==t?"도박":"ET"==t?"기타":void 0},timeStampToDate(t){return Z.formatDate(t)},showBanControl(t){console.log(t),this.currentBan=t,this.popupVisible=!0},closePopup(){this.popupVisible=!1},insertDecision(t){console.log("[## decision]",t),f.admin.ban.insertDecision(this.currentBan.seq,t).then(t=>{console.log(t);const e=this.banList.findIndex(t=>this.currentBan.seq===t.seq);this.banList.splice(e,1),0===this.banList.length?(this.currentBan=null,this.closePopup()):this.banList.length===e?this.currentBan=this.banList[e-1]:this.currentBan=this.banList[e]})}}},Ja=Wa,Ka=(s("cabe"),Object(_["a"])(Ja,La,Ra,!1,null,"8a031ede",null)),Qa=Ka.exports,Xa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("내글 편집 화면")]),s("div",{staticClass:"ban-user-list"},t._l(t.badUsers,(function(e){return s("div",{key:e.seq,staticClass:"ban-user"},[s("h5",[t._v(t._s(e.email))]),s("span",{on:{click:function(s){return t.loadDetail(e.seq)}}},[t._v(t._s(e.banCnt)+"건")]),t.detailBanUsers[e.seq]?s("BanList",{attrs:{banList:t.detailBanUsers[e.seq]}}):t._e(),s("div",{staticClass:"ctrl"},[s("button",{on:{click:function(s){return t.banDuration(e.seq,7)}}},[t._v("7일")]),s("button",{on:{click:function(s){return t.banDuration(e.seq,28)}}},[t._v("28일")]),s("button",{on:{click:function(s){return t.banDuration(e.seq,90)}}},[t._v("90일")])])],1)})),0)])},to=[],eo={components:{BanList:Ha},data(){return{badUsers:[],banList:null,detailBanUsers:{},visibleBanUsers:[]}},mounted(){this.loadBadUser()},methods:{loadBadUser(){f.admin.ban.loadBadUsers().then(t=>{console.log(t),this.badUsers=t.data})},loadDetail(t){if(this.visibleBanUsers.includes(t)){this.detailBanUsers[t]=null;const e=this.visibleBanUsers.findIndex(e=>e===t);this.visibleBanUsers.splice(e,1)}else f.admin.ban.loadDetail(t).then(e=>{console.log(e),this.$set(this.detailBanUsers,t,e.data),this.visibleBanUsers.push(t)})},banDuration(t,e){console.log(e),f.admin.ban.banDuration(t,e).then(t=>{console.log(t)})}}},so=eo,ao=(s("6841"),Object(_["a"])(so,Xa,to,!1,null,"1b65c76b",null)),oo=ao.exports,no={components:{CateConfig:ja,PostPage:Na,BanReporter:Qa,BadUser:oo},data(){return{menuType:"cate"}},methods:{changeMenu(t){this.menuType=t},login(t){this.$store.state.user.loginUser=t}},computed:{user(){return this.$store.state.user.loginUser}}},io=no,ro=(s("bd28"),Object(_["a"])(io,ra,la,!1,null,"33c28e31",null)),lo=ro.exports,co=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"join_content"},[s("div",{staticClass:"row_group"},[s("h1",[t._v("회원가입")]),s("div",{staticClass:"join_row"},[s("h3",{staticClass:"join_title"},[t._v("아이디")]),s("span",{staticClass:"ps_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signup.id,expression:"signup.id"}],staticClass:"int form-control",class:{error:t.error.id,success:t.success.id},attrs:{type:"text",maxlength:"20"},domProps:{value:t.signup.id},on:{blur:function(e){return t.validateId()},input:function(e){e.target.composing||t.$set(t.signup,"id",e.target.value)}}})]),t.idError.cnt>0?s("div",{staticClass:"error-box"},[t.idError.size?s("div",{staticClass:"error-msg"},[t._v(" 4글자 이상이어야 합니다. ")]):t._e(),t.idError.dup?s("div",{staticClass:"error-msg"},[t._v("중복된 아이디입니다.")]):t._e()]):t._e()]),s("div",{staticClass:"join_row"},[s("h3",{staticClass:"join_title"},[t._v("비밀번호")]),s("span",{staticClass:"ps_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signup.pwd,expression:"signup.pwd"}],staticClass:"int form-control",attrs:{type:"password",maxlength:"16"},domProps:{value:t.signup.pwd},on:{input:[function(e){e.target.composing||t.$set(t.signup,"pwd",e.target.value)},t.resetPassword],blur:t.passwordValid}})]),t.passwordError.cnt>0?s("div",{staticClass:"error-box"},[t.passwordError.num?s("div",{staticClass:"error-msg"},[t._v(" 숫자가 필요합니다. ")]):t._e(),t.passwordError.char?s("div",{staticClass:"error-msg"},[t._v(" 영문자가 필요합니다. ")]):t._e(),t.passwordError.size?s("div",{staticClass:"error-msg"},[t._v(" 6글자 이상 필요합니다. ")]):t._e()]):t._e()]),s("div",{staticClass:"join_row"},[s("h3",{staticClass:"join_title"},[t._v("비밀번호 재확인")]),s("span",{staticClass:"ps_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordCheck,expression:"passwordCheck"}],staticClass:"int form-control",attrs:{type:"password",maxlength:"16"},domProps:{value:t.passwordCheck},on:{blur:t.passwordCheckValid,input:function(e){e.target.composing||(t.passwordCheck=e.target.value)}}})]),t.passwordCheckFlag?t._e():s("span",{staticClass:"error_next_box form-control"},[t._v("비밀번호가 동일하지 않습니다.")])]),s("div",{staticClass:"join_row"},[s("h3",{staticClass:"join_title"},[t._v("비밀번호 힌트")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.signup.pwhint,expression:"signup.pwhint"}],staticClass:"sel form-control",attrs:{size:"1"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.signup,"pwhint",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("선택하세요")]),t._l(t.pwhintLists,(function(e){return s("option",{key:e.value},[t._v(" "+t._s(e.text)+" ")])}))],2)]),s("div",{staticClass:"join_row"},[s("h3",{staticClass:"join_title"},[t._v("답변")]),s("span",{staticClass:"ps_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signup.pwhintans,expression:"signup.pwhintans"}],staticClass:"int form-control",domProps:{value:t.signup.pwhintans},on:{input:function(e){e.target.composing||t.$set(t.signup,"pwhintans",e.target.value)}}})])]),s("div",{staticClass:"join_row"},[s("h3",{staticClass:"join_title"},[t._v("이메일")]),s("span",{staticClass:"ps_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signup.emailId,expression:"signup.emailId"}],staticClass:"int form-control",class:{error:t.error.emailId,success:t.success.emailId},attrs:{type:"text",maxlength:"20"},domProps:{value:t.signup.emailId},on:{blur:function(e){return t.propertyValid("emailId")},input:function(e){e.target.composing||t.$set(t.signup,"emailId",e.target.value)}}})]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.signup.domain,expression:"signup.domain"}],attrs:{name:"emailaddr"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.signup,"domain",e.target.multiple?s:s[0])},function(e){return t.propertyValid("domain")}]}},[s("option",{attrs:{value:""}},[t._v("직접입력")]),s("option",{attrs:{value:"@daum.net"}},[t._v("daum.net")]),s("option",{attrs:{value:"@gmail.com"}},[t._v("gmail.com")]),s("option",{attrs:{value:"@msn.com"}},[t._v("msn.com")]),s("option",{attrs:{value:"@naver.com"}},[t._v("naver.com")]),s("option",{attrs:{value:"@nate.com"}},[t._v("nate.com")])]),t.idValid?t._e():s("span",{staticClass:"error_next_box"},[t._v("필수 정보입니다.")])]),s("div",{staticClass:"join_row"},[s("div",{staticClass:"btn_area"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:t.error.id||t.error.pwd||t.error.emailId},on:{click:t.join}},[t._v(" 회원가입 ")]),s("button",{staticClass:"btn btn-danger"},[t._v("취소")])])])])])},uo=[],po={data(){return{signup:{id:null,pwd:null,pwhint:"",pwhintans:null,emailId:null,domain:""},error:{id:!1,pwd:!1,emailId:!1},success:{id:!1,pwd:!1,emailId:!1},passwordCheck:null,pwhintLists:[{value:1,text:"졸업한 초등학교 이름은?"},{value:2,text:"아버지 성함은?"},{value:3,text:"어머니 성함은?"},{value:4,text:"어릴 적 내 별명은?"},{value:5,text:"좋아하는 색깔은?"}],passwordValidFlag:!0,passwordError:{cnt:0,size:!1,num:!1,char:!1},idError:{cnt:0,size:!1,dup:!1},passwordCheckFlag:!0}},computed:{idValid(){return/^[a-z0-9]+$/.test(this.signup.id)},email(){return this.signup.emailId+this.signup.domain}},methods:{validateId(){if(this.idError.cnt=0,this.idError.size=!1,this.idError.dup=!1,this.signup.id.length<4)return this.idError.cnt=1,this.idError.size=!0,this.syncState(),this.error.id=!0,void(this.success.id=!1);f.user.checkProp("id",this.signup.id).then(t=>{console.log(t),this.syncState(),this.error["id"]=!1,this.success["id"]=!0}).catch(t=>{console.log(t),this.idError.dup=!0,this.idError.cnt++,this.syncState(),this.error.id=!0,this.success.id=!1})},passwordValid(){this.resetPassword(),console.log("[PWD]",this.signup.pwd),/[0-9]/.test(this.signup.pwd)||(this.passwordError.num=!0,this.passwordError.cnt++),/[a-zA-Z]/.test(this.signup.pwd)||(this.passwordError.char=!0,this.passwordError.cnt++),this.signup.pwd.length<6&&(this.passwordError.size=!0,this.passwordError.cnt++),this.passwordError.cnt>0?this.error.pwd=!0:this.error.pwd=!1},resetPassword(){console.log("!!"),this.passwordError.cnt=0,this.passwordError.num=!1,this.passwordError.char=!1,this.passwordError.size=!1},passwordCheckValid(){this.signup.pwd===this.passwordCheck?this.passwordCheckFlag=!0:this.passwordCheckFlag=!1,this.error.pwd=!this.passwordCheckFlag},syncState(){},join(){this.signup.email=this.email,this.signup.pwhint?this.signup.pwhintans?f.user.join(this.signup).then(t=>{console.log("[회원가입]",t),Jt.success("가입완료 되었습니다.",3e3),this.$router.push({path:"/login"})}):Jt.error("답변을 입력해 주세요",3e3):Jt.error("힌트를 선택해 주세요",3e3)},propertyValid(t){const e={prop:t,value:null};"emailId"===t||"domain"===t?(e.prop="email",e.value=this.email):e.value=this.signup[t],f.user.checkProp(e.prop,e.value).then(e=>{console.log(e),this.error[t]=!1,this.success[t]=!0}).catch(e=>{console.log(e),this.error[t]=!0,this.success[t]=!1})}}},ho=po,mo=(s("863c"),Object(_["a"])(ho,co,uo,!1,null,"5bd9f6a3",null)),vo=mo.exports,go=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tag-wrapper"},[s("h3",[t._v("테그별 글 모음")]),s("p",[t._v(t._s(t.totalPosts))]),s("div",{staticClass:"tag-cloud"},t._l(t.tags,(function(e){return s("div",{key:e.seq,staticClass:"tag",class:e.size,on:{click:function(s){return t.tagList(e)}}},[t._v(" "+t._s(e.tagName)+"("+t._s(e.posts.length)+") ")])})),0),t.activeTag?s("PostOfTag",{attrs:{tag:t.activeTag},on:{activePost:t.popupPosts}}):t._e(),t.activePost?s("PopupSlot",{on:{closePopup:function(e){return t.closePopup()}}},[s("p",[t._v(t._s(t.activePost.contents))]),s("button",{on:{click:function(e){return t.detail()}}},[t._v("자세히")])]):t._e()],1)},fo=[],yo={components:{PopupSlot:me,PostOfTag:ks},data(){return{tags:null,validTags:null,emptyTags:null,totalPosts:0,posts:null,activePost:null,activeTag:null}},mounted(){f.tag.posts().then(t=>{console.log(t),this.tags=t.data;let e=0;for(let a=0;a<this.tags.length;a++)e+=this.tags[a].posts.length;this.totalPosts=e,this.tags.sort((t,e)=>-1*(t.posts.length-e.posts.length));const s=Math.ceil(.1*this.tags.length);for(let a=0;a<s;a++)this.tags[a].size="large";for(let a=s;a<this.tags.length;a++)this.tags[a].size="small";this.validTags=this.tags.filter(t=>t.posts.length>0),this.emptyTags=this.tags.filter(t=>0===t.posts.length)})},methods:{TagOrder(){},tagList(t){this.activeTag=t},popupPosts(t){this.activePost=t},closePopup(){this.activePost=null},detail(){this.$router.push({path:"/article/"+this.activePost.seq})}}},bo=yo,_o=(s("6622"),Object(_["a"])(bo,go,fo,!1,null,null,null)),Co=_o.exports;a["a"].use(j["a"]),console.log("[STORE 출력]",Yt);const ko=[{path:"/",name:"Overview",component:ta},{path:"/posts",name:"Post",component:oe},{path:"/posts/:catename",name:"Post",component:oe},{path:"/login",name:"login",component:Ee},{path:"/about",name:"About",component:function(){return s.e("about").then(s.bind(null,"f820"))}},{path:"/tags",name:"Tag",component:Co},{path:"/article/:post",name:"post",component:js},{path:"/me",name:"userInfo",component:Hs,meta:{loginCheck:!0}},{path:"/write",name:"PostWrite",component:ia,meta:{loginCheck:!0}},{path:"/admin",name:"AdminPage",component:lo,meta:{loginCheck:!0,adminOnly:!0}},{path:"/join",name:"MemberJoin",component:vo}],Po=new j["a"]({mode:"history",base:"/",routes:ko});Po.beforeEach((t,e,s)=>{console.log("[FROM]",e),console.log("[TO  ]",t),Yt.state.user.loginUser||t.meta.loginCheck&&Po.push({path:"/login",query:{redirect:t.fullPath}}),s()});var wo=Po;a["a"].config.productionTip=!1,console.log("[ENV] MODE : ","PRODUCTION"),console.log("[ENV] BACKEND : ","http://158.247.207.99:8080"),new a["a"]({router:wo,store:Yt,render:function(t){return t(U)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"5ed4":function(t,e,s){"use strict";s("538e")},6622:function(t,e,s){"use strict";s("d9c4")},"67c6":function(t,e,s){},"67cf":function(t,e,s){"use strict";s("2f1c")},6841:function(t,e,s){"use strict";s("d60f")},"6ab7":function(t,e,s){"use strict";s("67c6")},"6cc8":function(t,e,s){"use strict";s("d659")},"6fae":function(t,e,s){"use strict";s("e684")},"6fe1":function(t,e,s){"use strict";s("1ddd")},"71b6":function(t,e,s){"use strict";s("4bac")},"71db":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTE2MDlCNzIyMkI4MTFFMzg5OTZBMTVDODc2MEQzRUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTE2MDlCNzMyMkI4MTFFMzg5OTZBMTVDODc2MEQzRUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFMTYwOUI3MDIyQjgxMUUzODk5NkExNUM4NzYwRDNFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFMTYwOUI3MTIyQjgxMUUzODk5NkExNUM4NzYwRDNFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PilBzBEAAAHXUExURTyAtDyAtT2BtT2Btj6Ctj6Ctz+DuD+DuT+EuUCEuUCFukGGu0KHvE2Vy////0OIvU2Vy0KHvEGGu0CFuk2Vy02Vy0CEuU2Vy02Vy02Vyz+DuD2Btk2Vy02Vyz+DuE2Vyz+DuE2Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vyzp9sT2AtU2Vy02Vyz2AtU2Vy02Vyzx/tE2Vy02Vyzt/s02Vy02Vyzp+sjp9sU2Vy02Vyzp9sU2Vy02Vy02Vyzl9sk2Vyzt/s02Vy02Vy02Vy02Vyzt+sk2Vyzp9sU2Vy02Vyzl9sTl8sE2Vyzh7sE2Vy02Vy02Vy02Vy02Vy0SKvzh6r02Vy02Vyzh7r02Vyzh6r0uSyE2Vy0iOxEeNw0mPxU2Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy02Vy0eOw02Vy02Vy06WzU2Vy02Vy02Vy02Vy02Vy02Vy02VyzV2qk2VyzV3q02Vy02VyzN0qDR1qTR2qjR3qzV2qjV3q0GGu0KGvEKHvEOIvUeMwkeNwkeNw0iOxEiPxUmQxUmQxkqRx0qSyEuSyEyTyUyUyk2Vy02VzE2WzE6WzE6XzfpO8UoAAACCdFJOUwAAAAAAAAAAAAAAAAAAAAICBAYKCgsNDQ4PEBMTFBYXGxsfKi8wNDo+QURFSE5WWVpbX2VoaWprbnBwcXd4e3yCgoaJiYuMjpGUlJaXmZqaoKCip66ytLS1t7i5uru9vsHFxsbIy8zO0NHX3N7g4uPl6erq6+vu8fT1+Pn6+/z9/f7xLYReAAACZElEQVR42u3Y21tMURjH8cmYMZXlWMpZlJxSUSYlh9SolJRDEUbklNCIqJiKJcfWpBHb4Y91MejZ66LZa+13rx49v+/tvng/V+/77OVbscD5AAAAAAAAAACAeb4xxhgrKKtvOa1ZS31ZAWOMMReAku5hy0XD3SWuAHltluta8/QBuZ0WQZ252oAGi6QGXUDhCA1gpFATELGIimgCeqkAvZqAh1SAR5qAQSrAoCYgRgWIAfD/AzpKy5Ur7SAEVDKNKgkBNTqAGgAIAdU6gGpCQJUOoIoQ0Nd1WbmuPmxCAAAgBAz1P1Cuf4gQUJuTr1xO7WLahLiGCw4I6wDChIDG4l3KFTcSAibi48rFJ7CKAQCAEBCtiyhXFyUEVOhswgocIwAW0wtJT3Orcs092IQAAEAIGB99kb7RuHeASNHO9BWFvQM4+zHZ7R3A2S3YB4B3AGcPFHu8AxzN35y+9fu9AzyPPUlf7BlWMQAAAAAAAKl+/JJ7ahTw8+uUsDf12Cjg+8dX3N7LAyYB3z6/529tjR30mwRMJz5IgENZGQYBM0IGHM4MGQTMCBlwJLjMICApJMCbY4GAQUBSyIDj/qUGAclPEmDypC/DIOBLau3MAfipwJ+MAGaFBOBNmS4BAyoH4O/8f4DJMytDLgF3VRagkAD87OrlbgHtCvMTEoCfW5PtGrBXZ34KwM+vzXYPWHXB6fxpYQfwi+uyCABs+32HB0jYAfzqhhAJgO245/AA2ACvr28MEgHYphMDivNF4t2NLf4AFYCxreXtl6LX5unm7Vu27lzZFlxCAzASAAAAAAAAAADwG7pl8f0Z2t06AAAAAElFTkSuQmCC"},"71e6":function(t,e,s){},7662:function(t,e,s){},"805e":function(t,e,s){},"863c":function(t,e,s){"use strict";s("8b2a")},8892:function(t,e,s){},"88c2":function(t,e,s){"use strict";s("c500")},"8a53":function(t,e,s){"use strict";s("0524")},"8a64":function(t,e,s){},"8b2a":function(t,e,s){},"8c16":function(t,e,s){"use strict";s("f819")},9526:function(t,e,s){t.exports=s.p+"img/icon_new.30a3859c.png"},"9c0c":function(t,e,s){},"9c86":function(t,e,s){"use strict";s("c5a7")},a242:function(t,e,s){},a50f:function(t,e,s){"use strict";s("b4ff")},a6f1:function(t,e,s){"use strict";s("42b1")},b047:function(t,e,s){},b151:function(t,e,s){"use strict";s("04b9")},b293:function(t,e,s){"use strict";s("a242")},b4ff:function(t,e,s){},b7ef:function(t,e,s){"use strict";s("0b61")},b8d9:function(t,e,s){"use strict";s("bf90")},bd28:function(t,e,s){"use strict";s("194f")},bf90:function(t,e,s){},c500:function(t,e,s){},c5a7:function(t,e,s){},c6cb:function(t,e,s){"use strict";s("805e")},cabe:function(t,e,s){"use strict";s("e4d7")},cc38:function(t,e,s){"use strict";s("2871")},d550:function(t,e,s){},d60f:function(t,e,s){},d659:function(t,e,s){},d9c4:function(t,e,s){},e4d7:function(t,e,s){},e684:function(t,e,s){},f341:function(t,e,s){"use strict";s("71e6")},f819:function(t,e,s){}});
//# sourceMappingURL=app.b74d6498.js.map